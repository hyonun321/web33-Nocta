<div align="center">
  
  ![image](https://github.com/user-attachments/assets/e7f5453b-ecc8-4087-b0ae-0c72b422103f)

  <br>

 ![ezgif com-crop](https://github.com/user-attachments/assets/df92040b-a3fd-4bef-8b45-b5ad9e813fca)


  <br>
 

</div>

<div align="center">

  <a href="https://nocta.site" title="🌌 밤하늘의 별빛처럼, 자유로운 인터랙션 실시간 에디터"><strong>배포 사이트</strong></a>

 <a href="https://hits.seeyoufarm.com"><img src="https://hits.seeyoufarm.com/api/count/incr/badge.svg?url=https%3A%2F%2Fgithub.com%2Fboostcampwm-2024%2Fweb33-Nocta&count_bg=%2379C83D&title_bg=%23555555&icon=&icon_color=%23E7E7E7&title=hits&edge_flat=false"/></a>

</div>

# 📑 문서 작성이 더 편하고 즐거워진다

### **🤔 하나의 문서를 작성하면서 다른 문서도 함께 보고 싶었던 적 있으신가요?**

> 문서 작성할 때 여러 창을 띄워두고 번거롭게 작업하셨던 불편함이 있었죠. 기존 에디터들은 하나의 창에 갇혀있어서, 참고할 내용이 있을 때마다 창을 이동해야 했어요.
> 

Nocta는 에디터에 새로운 바람을 불어넣었어요.

1. **탭 브라우징으로 여러 문서를 자유롭게 넘나들 수 있어요.**
2. **인터랙티브한 요소들로 문서 작성이 더 흥미롭게 변해요.**

Nocta에서 단순한 기록을 넘어, 새로운 글쓰기 경험을 시작하세요.

[노션](https://www.notion.so/Glassmo-Web33-12a9ff1b21c38003b600f57baa654626?pvs=21) | [개발위키](https://www.notion.so/12a9ff1b21c380f2a490deae65256639?pvs=21) | [시연영상](https://www.youtube.com/watch?v=0AZAixGrMbo) | 최종발표


<details>
<summary><h2>${\textsf{\color{blue}서비스 전체보기}}$</h2>
</summary>

   <details>
    <summary><h3>마크다운 문법</h3>
    </summary>
     
   ### 마크다운 기초 문법
     
  ![마크다운 기초문법](https://github.com/user-attachments/assets/0bc5eb38-27da-41dd-8c62-fa577d3ca996)
  <br>
  
   ### 블럭 드래그앤 드롭과 슬래시
       
![무제](https://github.com/user-attachments/assets/f63f5f54-3c8c-461b-aca7-27f057056476)
<br>

  ### 블럭 전환
![블록 전환1](https://github.com/user-attachments/assets/8560783f-5691-4b54-94b9-08093df2a92f)
<br>

 ### 리치 텍스트
 
![리치](https://github.com/user-attachments/assets/e35782ae-34bd-46aa-858e-965814f1a5d3)
<br>

   ### 순서 리스트
   
![순서리스트](https://github.com/user-attachments/assets/af9cf597-be89-4c20-af1c-92e38969f0b1)
<br>

   </details>
   <details>
    <summary><h3>실시간 동시편집</h3>
    </summary>
    
   ### 한페이지 다중블록
     
 ![한페이지 다중입력](https://github.com/user-attachments/assets/245940d7-1fd7-4d02-a890-6e8ed4f530dc)

  <br>
  
   ### 다중 페이지 동시입력
       
![다중 페이지 동시입력](https://github.com/user-attachments/assets/da665567-b2b8-4124-bf31-e61c4024d00b)

<br>

  </details>
     <details>
  <summary><h3>워크스페이스</h3>
  </summary>
       
   ### 워크스페이스 접속
       
![워크스페이스 접속](https://github.com/user-attachments/assets/2f296cf9-3f06-4636-9f2e-f9d49dce0b7c)


<br>

### 워크스페이스 초대
       
![워크스페이스초대](https://github.com/user-attachments/assets/92da352e-00b0-40fc-924f-11d20a1b0e6c)


<br>

### 워크스페이스 초대수신
       
![워크스페이스초대받음](https://github.com/user-attachments/assets/2ea36fab-44c7-4af1-b8e9-823db8ef7899)


<br>

  </details>
     <details>
  <summary><h3>탭 브라우징</h3>
  </summary>
       
### 다중 탭브라우징

 ![다중 탭 브라우징](https://github.com/user-attachments/assets/2c36836b-13ea-4cbf-ac5e-2db1fc1fd67b)

<br>

### 페이지 최대화
       
![페이지 최대화](https://github.com/user-attachments/assets/a047c849-6301-44b4-944e-abd909d2629c)

<br>

### 페이지 최소화
       
![페이지 최소화](https://github.com/user-attachments/assets/302cc100-d7a6-42ba-bf11-1c0556c420d8)

<br>

  </details>
     <details>
  <summary><h3>인터랙티브 컴포넌트</h3>
  </summary>
       
### 하이라이트 애니메이션
      
![3333](https://github.com/user-attachments/assets/b535e475-9a39-47ae-833b-9ec0ec4d4865)

<br>

### 슬라이드 인 텍스트
       
![슬라이드앤텍스트](https://github.com/user-attachments/assets/d9864c16-db38-4a74-8164-b101a9f1caad)

<br>

### 페이드인 텍스트

   ![페이드인텍스트](https://github.com/user-attachments/assets/d1b32c1e-424b-4f3c-8233-e1e775d983ab)
  

<br>

### 펄스&바운드 텍스트
       
![펄스바운스텍스트](https://github.com/user-attachments/assets/51b0639c-6bbe-4ad8-bf8b-62303e6f123c)

<br>

### 애니메이션 레인보우

 ![레인보우](https://github.com/user-attachments/assets/9ba52aed-8868-474a-926a-1ba23ab08a51)


<br>


  </details>

  
</details>

# 🏃‍♂️‍➡️ 직접 만들었습니다 CRDT 라이브러리!

### `@noctaCRDT` 라는 이름으로 client와 server에서 사용해요

> 기술적 도전을 위해 RGA(Replicated Growable Array)알고리즘을 적용했어요
LinkedList 기반으로 논리적 시계를 활용하여 각 문자들의 인덱스와 순서를 관리해요
> 
- [CRDT(Conflict-free Replicated Data Type)](https://abrupt-feta-9a9.notion.site/CRDT-Conflict-free-Replicated-Data-Type-64d21c54fb054a92aaca558dce3148ce?pvs=4)
- [CRDT를 구현해보자 (1): CRDT를 만들어 볼까..?](https://abrupt-feta-9a9.notion.site/CRDT-1-CRDT-1f0bd7853592435f8e0bb0098a6440d1?pvs=4)
- [CRDT를 구현해보자 (2): NestJS + MongoDB 연동하기](https://abrupt-feta-9a9.notion.site/CRDT-2-NestJS-MongoDB-d49eb9f56f1044e6aca39f74fb9d338f?pvs=4)
- [CRDT를 구현해보자 (3): FE, BE에 CRDT 적용하기](https://abrupt-feta-9a9.notion.site/CRDT-3-FE-BE-CRDT-8da3ae01ddf349829ea4dc9639ba2f94?pvs=4)
- [CRDT를 구현해보자 (4): DB 데이터 구조 정하기](https://abrupt-feta-9a9.notion.site/CRDT-4-DB-d2bd99a60e914816a7a1568ecf038445)
- [CRDT 동시성 처리](https://abrupt-feta-9a9.notion.site/CRDT-a8872af52203493e9f1fcf7b43149f0d?pvs=4)
- [CRDT 최적화하기](https://abrupt-feta-9a9.notion.site/CRDT-d96629bf4f3045209508e5f3f55d8f36?pvs=4)


### 캐럿 이동 문제

> CRDT 연산이 일어나고 상태가 업데이트되며, 캐럿의 위치가 초기화되거나 다른 페이지로 이동했어요
수동으로 캐럿위치를 설정하고, 페이지별로 CRDT를 생성해 관리했어요
- [캐럿 관리 트러블슈팅](https://abrupt-feta-9a9.notion.site/ab1b87f31ec5459eb72f4241293fe8fa?pvs=4)

# 📝 실시간 협업 마크다운 에디터

### 실시간으로 여러 사용자가 동시에 문서를 편집할 수 있는 마크다운 에디터를 구현했어요.

> CRDT를 활용해 실시간 동시 편집 시의 충돌 문제를 해결했어요
마크다운 프리뷰와 에디터를 동기화하여 작성하면서 바로 결과물을 확인할 수 있어요
> 
- [마크다운은 어떻게 구현해야 할까(1): 문법 변환](https://abrupt-feta-9a9.notion.site/1-5b7f6fcf9c0643dc80ba72c11cc37bf7?pvs=4)
- [마크다운은 어떻게 구현해야 할까(3): 연결리스트](https://abrupt-feta-9a9.notion.site/3-cea9f37a05cb4900a51cf8d3f0fc8f6d?pvs=4)

### 복잡한 중첩 구조 개선

> 기존의 중첩 구조는 복잡한 DOM 순회 로직이 필요하고 에러 발생 가능성이 높았어요
모든 요소의 depth를 1로 통일하고 prev/next 관계만 유지하도록 개선했어요
> 
- [마크다운은 어떻게 구현해야 할까(4): CRDT 적용을 위한 구조 변경](https://abrupt-feta-9a9.notion.site/4-CRDT-6449b3e7d33442279812a589cf672b73?pvs=4)
- [마크다운은 어떻게 구현해야 할까(6): 리치 텍스트](https://abrupt-feta-9a9.notion.site/6-45718cbb81d2432abf68c76c15dfa586?pvs=74)

### 한글 입력 컴포징 이슈 해결

> macOS와 Windows에서 한글 입력 시 컴포징 이벤트 처리 방식이 달라 문제가 발생했어요
OS를 확인하여 각 OS에 맞게 처리했어요
> 
- [마크다운 디버깅 - 윈도우에서 연산이 제대로 안되는 버그](https://abrupt-feta-9a9.notion.site/1519ff1b21c380e1bd03e999ceb65282?pvs=4)
- [마크다운 한글입력의 경우 블록이 2번 생기는 오류](https://abrupt-feta-9a9.notion.site/2-13d9ff1b21c3805badd8f78032035ef8?pvs=4)

# 🖥️ 탭 브라우징

### 페이지를 원하는 위치로 이동하고 사이즈를 조절할 수 있어요

> 페이지들이 화면을 벗어나지 않도록 위치를 조절할 수 있고, 8방향으로 크기를 조절할 수 있어요.
GPU를 활용한 렌더링 최적화를 진행했어요
> 
- [페이지 리사이징](https://abrupt-feta-9a9.notion.site/1479ff1b21c380038bd1fd6ba430fef2?pvs=4)
- [탭 브라우징 구현하기](https://abrupt-feta-9a9.notion.site/13c9ff1b21c38089ac18cfe2c39e6c15?pvs=4)



## 🔧 기술 스택

**Common**

<div align="left"> <img src="https://img.shields.io/badge/TypeScript-3178C6?style=flat-square&logo=TypeScript&logoColor=white"/> <img src="https://img.shields.io/badge/Prettier-F7B93E?style=flat-square&logo=Prettier&logoColor=black"/> <img src="https://img.shields.io/badge/ESLint-4B32C3?style=flat-square&logo=ESLint&logoColor=white"/> <img src="https://img.shields.io/badge/Jest-C21325?style=flat-square&logo=Jest&logoColor=white"/> <img src="https://img.shields.io/badge/PNPM-F69220?style=flat-square&logo=PNPM&logoColor=white"/> <img src="https://img.shields.io/badge/Playwright-2EAD33?style=flat-square&logo=Playwright&logoColor=white"/> </div>

**Frontend**

<div align="left"> <img src="https://img.shields.io/badge/React-61DAFB?style=flat-square&logo=React&logoColor=black"/> <img src="https://img.shields.io/badge/React_Query-FF4154?style=flat-square&logo=ReactQuery&logoColor=white"/> <img src="https://img.shields.io/badge/Zustand-764ABC?style=flat-square&logo=Zustand&logoColor=white"/> <img src="https://img.shields.io/badge/Panda_CSS-06B6D4?style=flat-square&logo=PandaCSS&logoColor=white"/> <img src="https://img.shields.io/badge/Vite-646CFF?style=flat-square&logo=Vite&logoColor=white"/> </div>

**Backend**

<div align="left"> <img src="https://img.shields.io/badge/NestJS-E0234E?style=flat-square&logo=NestJS&logoColor=white"/> <img src="https://img.shields.io/badge/MongoDB-47A248?style=flat-square&logo=MongoDB&logoColor=white"/> </div>

**Infra**

<div align="left"> <img src="https://img.shields.io/badge/Docker-2496ED?style=flat-square&logo=Docker&logoColor=white"/> <img src="https://img.shields.io/badge/Nginx-009639?style=flat-square&logo=Nginx&logoColor=white"/> <img src="https://img.shields.io/badge/GitHub_Actions-2088FF?style=flat-square&logo=GitHubActions&logoColor=white"/> <img src="https://img.shields.io/badge/NCloud-03C75A?style=flat-square&logo=Naver&logoColor=white"/> </div>

## 시스템 아키텍처 다이어그램

![제목 없음-2024-07-18-1129_2](https://github.com/user-attachments/assets/91c6477b-4acd-4dd5-bc93-9e204347bc10)


## 📅 프로젝트 기간

> 2024.10.28 ~ 2024.12.06 (6주)

<br>

## 🌱 팀원 소개

<div align="center">

|                                J078                                 |                                J098                                 |                                 J099                                 |                                  J213                                   |
| :-------------------------------------------------------------------: | :-------------------------------------------------------------------: | :--------------------------------------------------------------------: | :-----------------------------------------------------------------------: |
| <img src="https://github.com/hyonun321.png" width="100" height="100"> | <img src="https://github.com/Ludovico7.png" width="100" height="100"> | <img src="https://github.com/minjungw00.png" width="100" height="100"> | <img src="https://github.com/pipisebastian.png" width="100" height="100"> |
|                                 FE+BE                                 |                                  FE+BE                                   |                                   BE+Infra                                   |                                    FE                                     |
|              [김현훈](https://github.com/hyonun321)               |              [민연규](https://github.com/Ludovico7)               |              [민정우](https://github.com/minjungw00)              |            [장서윤](https://github.com/pipisebastian)             |

</div>

<br>



## 🚀 프로젝트 시작 가이드

```bash
# 저장소 복제
git clone https://github.com/boostcampwm-2024/web33-boostproject.git

# 의존성 설치
pnpm install

# 프로덕션 빌드
pnpm run build

# 프로젝트 개발 모드 실행
# Frontend: http://localhost:5173/
# Backend: http://localhost:3000/
pnpm run dev

# 프로젝트 Docker 빌드 후 실행 (http://localhost/)
docker-compose up -d --build
```




